{"code":"(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[2],{409:function(t,e,r){\"use strict\";var n=r(2),i=r.n(n),o=r(3),u=r(0);var c=r(77),a=r(160);function s(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return Object(a.a)(r)?e:Object(c.a)((function(e){return t(r,e)}));default:return Object(a.a)(r)&&Object(a.a)(n)?e:Object(a.a)(r)?Object(c.a)((function(e){return t(e,n)})):Object(a.a)(n)?Object(c.a)((function(e){return t(r,e)})):t(r,n)}}}function f(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var l=s((function(t,e){var r={};return function(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,i){return e.apply(this,arguments)};case 5:return function(t,r,n,i,o){return e.apply(this,arguments)};case 6:return function(t,r,n,i,o,u){return e.apply(this,arguments)};case 7:return function(t,r,n,i,o,u,c){return e.apply(this,arguments)};case 8:return function(t,r,n,i,o,u,c,a){return e.apply(this,arguments)};case 9:return function(t,r,n,i,o,u,c,a,s){return e.apply(this,arguments)};case 10:return function(t,r,n,i,o,u,c,a,s,f){return e.apply(this,arguments)};default:throw new Error(\"First argument to _arity must be a non-negative integer no greater than ten\")}}(e.length,(function(){var n=t.apply(this,arguments);return f(n,r)||(r[n]=e.apply(this,arguments)),r[n]}))})),p=r(158);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,i=!1,o=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return r}(t,e)||function(t,e){if(!t)return;if(\"string\"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h=function(t){if(\"undefined\"!=typeof window&&void 0===window.IntersectionObserver)return{ref:void 0,inView:!0,supported:!1};var e=y(Object(p.a)(t),2);return{ref:e[0],inView:e[1],supported:!0}};function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var j=function(t){var e=t.currentLink,r=t.nextLink,i=t.fetchInViewOptions,u=void 0===i?{rootMargin:\"400px 0px\",triggerOnce:!0}:i,c=t.routeInViewOptions,a=void 0===c?{rootMargin:\"-80% 0% -19.9999% 0%\"}:c,s=h(u),f=h(a);if(!s.supported||!f.supported)return{supported:!1};var l=Object(o.useConnect)(),p=l.state,y=l.actions,b=p.source.get(e),O=r?p.source.get(r):null;return Object(n.useEffect)((function(){b.isReady||b.isFetching||y.source.fetch(e)}),[]),Object(n.useEffect)((function(){if(s.inView&&r){var t,n=(null===(t=p.router.state.infiniteScroll)||void 0===t?void 0:t.links)?w(p.router.state.infiniteScroll.links):[e];if(n.includes(r))return;O.isReady||O.isFetching||y.source.fetch(r),n.push(r),y.router.updateState(d(d({},p.router.state),{},{infiniteScroll:d(d({},p.router.state.infiniteScroll),{},{links:n})}))}}),[s.inView,r]),Object(n.useEffect)((function(){f.inView&&p.router.link!==e&&y.router.set(e,{method:\"replace\",state:p.router.state})}),[f.inView]),{supported:!0,routeRef:f.ref,fetchRef:s.ref,routeInView:f.inView,fetchInView:s.inView}};function m(t,e,r,n,i,o,u){try{var c=t[o](u),a=c.value}catch(t){return void r(t)}c.done?e(a):Promise.resolve(a).then(n,i)}function S(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function u(t){m(o,n,i,u,c,\"next\",t)}function c(t){m(o,n,i,u,c,\"throw\",t)}u(void 0)}))}}function k(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if(\"string\"==typeof t)return A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);\"Object\"===r&&t.constructor&&(r=t.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(t);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(t,e)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function V(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var P={name:\"irwjms-fetcher\",styles:\"position:absolute;width:100%;bottom:0;;label:fetcher;\"},E=l((function(t){return t}),(function(t,e){return function(t){var e=t.link,r=t.fetchInViewOptions,n=t.routeInViewOptions;return Object(o.connect)((function(t){var c,a,s=t.children,f=(t.className,Object(o.useConnect)().state),l=(null===(c=f.router.state.infiniteScroll)||void 0===c?void 0:c.links)||[e],p=null===(a=f.router.state.infiniteScroll)||void 0===a?void 0:a.limit,y=f.source.get(e),b=y.next?f.source.get(y.next):null,h=!!p&&l.length>=p,O=j({currentLink:e,nextLink:null==b?void 0:b.link,fetchInViewOptions:r,routeInViewOptions:n}),d=O.supported,v=O.fetchRef;O.routeRef;if(!y.isReady||y.isError)return null;if(!d)return s;var w=P;return Object(u.jsx)(i.a.Fragment,null,s,!h&&Object(u.jsx)(\"div\",{css:w,ref:v}))}),{injectProps:!1})}({link:t,fetchInViewOptions:e.fetchInViewOptions,routeInViewOptions:e.routeInViewOptions})}));e.a=function(){var t,e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={active:!0};i=V(V({},u),i);var c=Object(o.useConnect)(),a=c.state,s=c.actions,f=(null===(t=a.router.state.infiniteScroll)||void 0===t?void 0:t.links)?k(null===(e=a.router.state.infiniteScroll)||void 0===e?void 0:e.links):[a.router.link],l=(null===(r=a.router.state.infiniteScroll)||void 0===r?void 0:r.limit)||i.limit;Object(n.useEffect)((function(){i.active&&s.router.updateState(V(V({},a.router.state),{},{infiniteScroll:V({links:f,limit:l},a.router.state.infiniteScroll)}))}),[i.active]);var p=a.source.get(f[f.length-1]),y=!!l&&f.length>=l,b=!!p.next,h=p.isFetching,O=!!p.isError,d=y&&b&&!h,v=function(){var t=S(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.active&&(b||O)&&!f.includes(p.next)){t.next=2;break}return t.abrupt(\"return\");case 2:if(!O){t.next=7;break}return t.next=5,s.source.fetch(f[f.length-1],{force:!0});case 5:t.next=13;break;case 7:if(f.push(p.next),s.router.updateState(V(V({},a.router.state),{},{infiniteScroll:V(V({},a.router.state.infiniteScroll),{},{links:f})})),(e=a.source.get(p.next)).isReady||e.isFetching){t.next=13;break}return t.next=13,s.source.fetch(p.next);case 13:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=f.map((function(t){return{key:t,link:t,isLast:t===p.link&&!!p.isReady&&!p.isError||t===f[f.length-2]&&!p.isReady||t===f[f.length-2]&&!!p.isReady&&!!p.isError,Wrapper:E(t,{fetchInViewOptions:i.fetchInViewOptions,routeInViewOptions:i.routeInViewOptions})}}));return{pages:w,isLimit:d,isFetching:h,isError:O,fetchNext:v}}}}]);","extractedComments":[]}